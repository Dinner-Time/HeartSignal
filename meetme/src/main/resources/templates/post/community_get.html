<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="~{layout/layout}">
<!-- 컨텐츠페이지의 CSS 영역이 들어감 -->
    <th:block layout:fragment="css">
		<style>
			.container{
						background-color:white;
					}
		</style>
	</th:block>
	<th:block layout:fragment="content">
			<!-- 여기에 body에 들어갈 내용을 적어주세요 -->
			<div class="container" >
			<br>
				<div>
					<h2  th:text="${list.postTitle}"></h2>
				</div>
				<div class="row mt-3 d-flex justify-content-end"> 
					<div class="col-auto d-flex justify-content-end">
						<form action="/post/updateCommunity" method="get"
						class="mr-1">
							<input type="hidden" name="postId" th:value="${list.postId}">
							<button id="btnSave" class="btn btn-primary btn-sm">수정하기</button> 
						</form>
						<form action="/post/postDelete" method="post">
							<input type="hidden" name="postId" th:value="${list.postId}">
							<button id="btnCancel" class="btn btn-danger btn-sm">삭제하기</button> 
						</form>
					</div> 
				</div>
			<br>
			<hr>
			<div style="text-align: right ;">
				<h7 th:text="|작성자:  ${list.nickname}|"></h7>
				<h7 th:text="|조회수: ${list.hit}|"></h7>
			</div>
			<br>
			<div class="form-group">
				<div class="col-sm-10">
					<th:block th:utext="${list.postContent}"></th:block>
					<!-- <textarea name="postContent" class="form-control" id="ckcontents" th:text="${list.postContent}" disabled></textarea> -->
				</div>		
			</div>
			<br>
			<hr>
			<br>

			<!--댓글 넣기-->
			 <!-- 댓글조회 -->
			 <div class="card shadow mb-4">
				<div class="card-header">
				   <i class="fa fa-comment fa"></i> 댓 글 조 회
				</div>
				<div class="card-body">
				   <div id="commentsBody">
				   </div>
				</div>
			 </div>
			 <!-- 댓글 입력 -->
			 <div class="card mb-2">
				<div class="card-header bg-light">
				   <i class="fa fa-comment fa"></i> 댓 글 달 기
				</div>
				<div class="card-body">
				   <form id="reply" action="CommentInsertServ" method="post">
					  <ul class="list-group list-group-flush">
						 <li class="list-group-item">
							<img class="rounded-circle" src="img/undraw_profile_1.svg"
							   style="width: 2.5rem; height:2.5rem;">
							   <!--로그인 한 사람이 댓글 달 수 있게 만들기!-->
							   <span class="pl-3"style="font-size: 2rem;"></span>
							<p></p>
							<input type="hidden" id="cMainNum" name="cMainNum" value="${list[0].sNo }">
							<textarea class="form-control" id="cContent" name="cContent"
							   rows="3"></textarea>
							   <br>	
							<button type="submit" class="btn btn-primary btn-md mr-5" style="float:right;">댓글
							   등록</button>
						 </li>
					  </ul>
				   </form>
				</div>
			 </div>
			 <hr>
			 <!-- 댓글 수정하면 보이게 -->
			 <div id="showComUpdate">
				<form id="updateRep" name="updateRep" action="UpdateCommentServ" method="post">
				   <input type="hidden" id="cNo" name="cNo">
				   <input type="text" id="cUpdated" name="cContents">
				   <button type="submit" id="updated" name="updated" class="btn btn-primary btn-md mr-5"
					  onclick="updateCom()">수정하기!</button>
				</form>
			 </div>
	 	

			<br>
			<!--좋아요 버튼 넣기~ -->
			<div class="row mt-3 d-flex justify-content-center"> 
				<div class="col-auto"> 
					<button type = "submit" name = "submit" id="btnSave" class="btn btn-primary">좋아요</button> 
				</div> 
			</div>
			<br>
	</th:block>
		<th:block layout:fragment="script">
			<script src="/js/ckeditor/ckeditor.js"></script>
			<script type="text/javascript" th:inline="javascript">
			/*<![CDATA[*/ 
			$(function() { 
				CKEDITOR.replace('ckcontents',{ 
					filebrowserUploadUrl: '/post/ckeditor/fileUpload', 
					font_names : "맑은 고딕/Malgun Gothic;굴림/Gulim;돋움/Dotum;바탕/Batang;궁서/Gungsuh;Arial/Arial;Comic Sans MS/Comic Sans MS;Courier New/Courier New;Georgia/Georgia;Lucida Sans Unicode/Lucida Sans Unicode;Tahoma/Tahoma;Times New Roman/Times New Roman;MS Mincho/MS Mincho;Trebuchet MS/Trebuchet MS;Verdana/Verdana",
					font_defaultLabel : "맑은 고딕/Malgun Gothic", 
					fontSize_defaultLabel : "12", 
					// skin : "office2013", 
					language : "ko" 
				}); 
				// ... 
			});

			</script>
		</th:block>
</html>